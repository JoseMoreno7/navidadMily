(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81694,e=>{"use strict";var a=e.i(43476),s=e.i(71645);function r(){let[e,r]=(0,s.useState)(0),[c,o]=(0,s.useState)(0);return(0,a.jsxs)("main",{className:"mainStage",children:[0===e&&(0,a.jsx)(l,{onNext:()=>r(1)}),1===e&&(0,a.jsx)(n,{from:"JosÃ©",to:"Mily ðŸ’–",onFlipped:()=>r(2)}),2===e&&(0,a.jsx)(t,{hits:c,setHits:o,onOpen:()=>r(3)}),3===e&&(0,a.jsx)(i,{})]})}function l({onNext:e}){return(0,a.jsxs)("section",{className:"centerStage",children:[(0,a.jsx)("button",{className:"roseBtn",onClick:e,"aria-label":"Continuar",children:(0,a.jsx)("img",{className:"rosePng",src:"/images/rose.png",alt:"Rosa"})}),(0,a.jsx)("p",{className:"hintText",children:"Desliza o toca la rosa ðŸŒ¹"})]})}function n({from:e,to:r,onFlipped:l}){let[n,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!n)return;let e=setTimeout(()=>l(),650);return()=>clearTimeout(e)},[n,l]),(0,a.jsx)("section",{className:"centerStage",children:(0,a.jsx)("div",{className:"flipWrap",children:(0,a.jsxs)("div",{className:`flipCard ${n?"flipped":""}`,children:[(0,a.jsxs)("button",{className:"envelopeFace envelopeFront",onClick:()=>t(!0),"aria-label":"Voltear el sobre",children:[(0,a.jsxs)("div",{className:"metaLine",children:[(0,a.jsx)("span",{className:"metaLabel",children:"De:"})," ",(0,a.jsx)("strong",{children:e})]}),(0,a.jsxs)("div",{className:"metaLine",children:[(0,a.jsx)("span",{className:"metaLabel",children:"Para:"})," ",(0,a.jsx)("strong",{children:r})]}),(0,a.jsx)("div",{className:"tinyNote",children:"(Toca para voltear)"}),(0,a.jsx)(c,{mode:"tap-right",text:"Voltea aquÃ­"})]}),(0,a.jsx)("div",{className:"envelopeFace envelopeBackFake","aria-hidden":"true",children:(0,a.jsx)("div",{className:"sealPreview",children:"Te amo"})})]})})})}function t({hits:e,setHits:r,onOpen:l}){let n=e>=3,t=(0,s.useRef)(null);return(0,a.jsx)("section",{className:"centerStage",children:(0,a.jsx)("div",{className:"envelopeOpenStage",onTouchStart:e=>{t.current=e.touches?.[0]?.clientY??null},onTouchEnd:e=>{if(!n)return;let a=e.changedTouches?.[0]?.clientY??null;null==t.current||null==a||(a-t.current<-40&&l(),t.current=null)},children:(0,a.jsxs)("div",{className:"envelopeBackReal",children:[(0,a.jsx)("button",{className:`seal ${n?"broken":""} hits-${e}`,onClick:()=>{n||r(e=>Math.min(3,e+1))},"aria-label":"Sello te amo",children:"Te amo"}),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"tinyNote",children:"(Ahora desliza hacia arriba para abrir)"}),(0,a.jsx)(c,{mode:"swipe-up",text:"Desliza â†‘"}),(0,a.jsx)("button",{className:"openBtn",onClick:l,children:"Abrir carta"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"tinyNote",children:"(Toca el sello 3 veces)"}),(0,a.jsx)(c,{mode:"tap-seal",text:"Toca aquÃ­"})]})]})})})}function i(){let e=(0,s.useMemo)(()=>Array.from({length:18},(e,a)=>a),[]);return(0,a.jsxs)("section",{className:"letterStage",children:[(0,a.jsx)("div",{className:"garland","aria-hidden":"true"}),(0,a.jsx)("div",{className:"snow","aria-hidden":"true",children:e.map(e=>(0,a.jsx)("span",{className:"flake"},e))}),(0,a.jsxs)("article",{className:"letterCard",children:[(0,a.jsx)("h1",{className:"letterTitle",children:"ðŸŽ„ Feliz Navidad, Mily"}),(0,a.jsx)("p",{className:"letterText",children:"Hoy quise regalarte algo diferente: una cartita que se abre paso a paso, como todo lo bonito que construimos juntos."}),(0,a.jsx)("p",{className:"letterText",children:"Gracias por tu amor, por tu paciencia, por tu manera de cuidar, y por ser esa persona que convierte un dÃ­a normal en un recuerdo."}),(0,a.jsxs)("p",{className:"letterText",children:["Esta Navidad solo quiero que lo recuerdes siempre: ",(0,a.jsx)("strong",{children:"te amo"}),", y me siento afortunado de caminar contigo."]}),(0,a.jsxs)("div",{className:"letterSign",children:["Con todo mi amor,",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"JosÃ© ðŸ’™"})]})]})]})}function c({mode:e,text:s}){return(0,a.jsxs)("div",{className:`fingerHint ${e}`,"aria-hidden":"true",children:[(0,a.jsx)("div",{className:"finger",children:"â˜ï¸"}),(0,a.jsx)("div",{className:"fingerText",children:s})]})}e.s(["default",()=>r])}]);